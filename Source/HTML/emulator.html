<!DOCTYPE html>
<html>
<head>
   <title>Using the emulator</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <style type="text/css">
     body { margin: 0px; background: #FFFFFF; }
   </style>
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "emulator.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<table style="width:100%; border:none; border-spacing:0px; padding:5px; background:#C0C0C0">
  <tr style="vertical-align:middle">
    <td style="text-align:left">
      <h1 class="p_Heading1"><span class="f_Heading1">Using the emulator</span></h1>

    </td>
    <td style="text-align:right">
     <a href="index.html">Top</a>&nbsp;
     
     
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table style="width:100%;border:none;border-spacing:0px"><tr style="vertical-align:top"><td style="text-align:left;padding:5px">
<p class="p_Normal"><span style="font-size: 24px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">TEXT SCRAMBLING in TRIAL VERSION OUTPUT! In evaluation mode, Help+Manual will scramble individual characters in random words in your published output files. This is a limitation of the free trial version. <a href="https://www.helpandmanual.com" target="_blank" class="weblink"> This help system was created with an evaluation copy of Help+Manual.</a></span></p>
<hr style="height:2px; color:#FF0000; border-width:0; background-color:#ff0000;" /><p class="p_Normal"><span style="font-size: 24px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">&nbsp;</span></p>
<p class="p_Normal"><span style="font-size: 24px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">Using the emulator</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">If you want to load your code into the emulator, just click &quot;</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">Emulate</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">&quot; button </span><img alt="emulator01" width="18" height="18" style="margin:0;width:18px;height:18px;border:none" src="emulator01.gif"/><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">.</span></p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">But you can also use emulator to load executables even if you don't have the original source code. Select </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">Show emulator</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> from the </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">Emulator</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> menu.</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><img alt="emulator02" width="773" height="436" style="margin:0;width:773px;height:436px;border:none" src="emulator02.gif"/></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">Try loading files from &quot;</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">MyBuild</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">&quot; folder. If there are no files in &quot;</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">MyBuild</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">&quot; folder return to source editor, select </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-style: italic;">Examples</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> from </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-style: italic;">File</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> menu, load any sample, compile it and then load into the emulator:</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><img alt="emulator03" width="728" height="524" style="margin:0;width:728px;height:524px;border:none" src="emulator03.gif"/></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">[</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">Single Step</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">] button executes instructions one by one stopping after each instruction.</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">[</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">Run</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">] button executes instructions one by one with delay set by </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">step delay</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> between instructions.</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">Double click on register text-boxes opens &quot;</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">Extended Viewer</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">&quot; window with value of that register converted to all possible forms. You can modify the value of the register directly in this window.</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">Double click on memory list item opens &quot;</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">Extended Viewer</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">&quot; with WORD value loaded from memory list at selected location. Less significant byte is at lower address: LOW BYTE is loaded from selected position and HIGH BYTE from next memory address. You can modify the value of the memory word directly in the &quot;</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">Extended Viewer</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">&quot; window,</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">You can modify the values of registers on runtime by typing over the existing values.</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">[</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">Flags</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">] button allows you to view and modify flags on runtime.</span></p>
<p class="p_Normal">&nbsp;</p>
<hr style="height:2px; color:#000000; border-width:0; background-color:#000000;" /><p class="p_Normal"><span style="font-size: 24px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">Virtual drives</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">Emulator supports up to 4 virtual floppy drives. By default there is a </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">FLOPPY_0</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> file that is an image of a real floppy disk (the size of that file is exactly 1,474,560 bytes).</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">To add more floppy drives select </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">[Create new floppy drive]</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> from </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">[Virtual drive]</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> menu. Each time you add a floppy drive emulator creates a </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">FLOPPY_1</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">, </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">FLOPPY_2</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">, and </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">FLOPPY_3</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> files.</span></p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">Created floppy disks are images of empty IBM/MS-DOS formatted disk images. Only </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">4</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> floppy drives are supported (0..3)!</span></p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">To </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">delete</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> a floppy drive you should close the emulator, delete the required file manually and restart the emulator.</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">You can determine the number of attached floppy drives using </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">INT 11h</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> this function returns </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">AX</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> register with BIOS equipment list. Bits 7 and 6 define the number of floppy disk drives (minus 1):</span></p>
<p class="p_CodeExample" style="page-break-inside: avoid;"><span class="f_CodeExample" style="font-size: 13px;">Bits&nbsp;7-6&nbsp;of&nbsp;AX:</span><br />
<span class="f_CodeExample" style="font-size: 13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;00&nbsp;single&nbsp;floppy&nbsp;disk.</span><br />
<span class="f_CodeExample" style="font-size: 13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;01&nbsp;two&nbsp;floppy&nbsp;disks.</span><br />
<span class="f_CodeExample" style="font-size: 13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;three&nbsp;floppy&nbsp;disks.</span><br />
<span class="f_CodeExample" style="font-size: 13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11&nbsp;four&nbsp;floppy&nbsp;disks.</span></p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">Emulator starts counting attached floppy drives from starting from the first, in case file </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">FLOPPY_1</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> does not exist it stops the check and ignores </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">FLOPPY_2</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> and </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">FLOPPY_3</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> files.</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">To write and read from floppy drive you can use </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">INT 13h</span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> function, see </span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;"><a href="8086_bios_and_dos_interrupts.html" class="topiclink">list of supported interrupts</a></span><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;"> for more information.</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 16px; font-family: Verdana,Geneva,Arial,sans-serif;">emulator can emulate tiny operating system, check out <a href="asm_tutorial_11.html" class="topiclink">operating system tutorial</a>.</span></p>
<hr style="height:2px; color:#000000; border-width:0; background-color:#000000;" /><p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>

</td></tr></table>

</body>
</html>
